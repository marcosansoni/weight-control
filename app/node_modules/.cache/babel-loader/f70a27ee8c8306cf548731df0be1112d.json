{"ast":null,"code":"var _jsxFileName = \"C:\\\\Progetti\\\\weight-control\\\\app\\\\src\\\\pages\\\\home\\\\fragments\\\\WeightDetailsDialog.js\",\n    _s = $RefreshSig$();\n\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, IconButton, TextField, useMediaQuery } from '@material-ui/core';\nimport LoadingButton from '@material-ui/lab/LoadingButton';\nimport { useTranslation } from 'react-i18next';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { Formik } from 'formik';\nimport * as Yup from 'yup';\nimport moment from 'moment';\nimport { useDispatch } from 'react-redux';\nimport { Color } from '../../../theme/ColorSchema';\nimport { useWeightById } from '../../../store/state/home/selectors/weightByIdSelector';\nimport deleteWeightActionCreator, { DELETE_WEIGHT } from '../../../store/state/home/actionCreator/deleteWeightActionCreator';\nimport { useFetchType } from '../../../store/state/common/selectors/fetchSelector';\nimport MediaQuerySelector from '../../../constants/responsive/MediaQuerySelector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst StyledContent = styled(DialogContent)`\n  padding: 16px 24px 0 !important;\n`;\n_c = StyledContent;\nconst StyledDialog = styled(Dialog)`\n  .MuiDialog-paper {\n    width: 450px;\n    max-width: 100%;\n\n    ${MediaQuerySelector.SMALL} {\n      width: 100%;\n      max-width: 100%;\n    }\n  }\n`;\n_c2 = StyledDialog;\nconst Row = styled.div`\n  display: flex;\n  padding-bottom: 16px;\n  align-items: baseline;\n\n  :last-child {\n    padding-bottom: 0;\n  }\n`;\n_c3 = Row;\nconst Name = styled.div`\n  font-weight: 550;\n  font-size: 18px;\n  min-width: 126px;\n  color: ${p => p.theme[Color.TEXT_DARK]};\n`;\n_c4 = Name;\nconst StyledIconButton = styled(IconButton)`\n  position: absolute !important;\n  top: 8px;\n  right: 8px;\n`;\n_c5 = StyledIconButton;\nconst ContainerInput = styled.div`\n  width: 100%;\n`;\n_c6 = ContainerInput;\nconst TertiaryButton = styled(LoadingButton)`\n  position: absolute !important;\n  top: 50%;\n  transform: translate(0, -50%);\n  left: 8px;\n`;\n_c7 = TertiaryButton;\n\nconst initialValues = (note, weight) => ({\n  note,\n  weight\n});\n\nconst validationSchema = t => Yup.object({\n  weight: Yup.number(t('home.rows.details.errors.weight.default')).required(t('home.rows.details.errors.weight.required'))\n});\n\nconst WeightDetailsDialog = props => {\n  _s();\n\n  const {\n    id,\n    onClose,\n    open\n  } = props;\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useDispatch();\n  const fullScreen = useMediaQuery(MediaQuerySelector.SMALL);\n  const weights = useWeightById();\n  const currentWeight = weights === null || weights === void 0 ? void 0 : weights[id];\n  const fetching = useFetchType(DELETE_WEIGHT);\n  const date = useMemo(() => currentWeight === null || currentWeight === void 0 ? void 0 : currentWeight.date, [JSON.stringify(currentWeight)]);\n  const note = useMemo(() => currentWeight === null || currentWeight === void 0 ? void 0 : currentWeight.note, [JSON.stringify(currentWeight)]);\n  const weight = useMemo(() => currentWeight === null || currentWeight === void 0 ? void 0 : currentWeight.weight, [JSON.stringify(currentWeight)]);\n  const validationSchemaFormik = useMemo(() => validationSchema(t), [weight, note]);\n  const initialValuesFormik = useMemo(() => initialValues(note, weight), [weight, note]);\n\n  const handleEdit = () => {// console.log('submit');\n  };\n\n  const handleDelete = () => {\n    dispatch(deleteWeightActionCreator(id));\n  };\n\n  if (!open) return null;\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    initialValues: initialValuesFormik,\n    validationSchema: validationSchemaFormik,\n    onSubmit: handleEdit,\n    children: formik => /*#__PURE__*/_jsxDEV(StyledDialog, {\n      onClose: onClose,\n      open: open,\n      fullScreen: fullScreen,\n      children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n        onClose: onClose,\n        children: [t('home.rows.details.title'), onClose ? /*#__PURE__*/_jsxDEV(StyledIconButton, {\n          \"aria-label\": \"close\",\n          onClick: onClose,\n          children: /*#__PURE__*/_jsxDEV(CloseIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(StyledContent, {\n        dividers: true,\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Name, {\n            children: t('home.rows.details.date')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: moment(date).format('DD/MM/YYYY')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Name, {\n            children: t('home.rows.details.note')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ContainerInput, {\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              fullWidth: true,\n              multiline: true,\n              rows: 3,\n              name: \"note\",\n              variant: \"outlined\",\n              value: formik.values.note,\n              onChange: formik.handleChange,\n              onBlur: () => formik.setFieldTouched('note')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: [/*#__PURE__*/_jsxDEV(Name, {\n            children: t('home.rows.details.weight')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ContainerInput, {\n            style: {\n              height: 92\n            },\n            children: /*#__PURE__*/_jsxDEV(TextField, {\n              type: \"number\",\n              fullWidth: true,\n              name: \"weight\",\n              variant: \"outlined\",\n              value: formik.values.weight,\n              onChange: formik.handleChange,\n              onBlur: () => formik.setFieldTouched('weight'),\n              error: formik.touched.weight && Boolean(formik.errors.weight),\n              helperText: formik.touched.weight && formik.errors.weight\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n        style: {\n          height: 64,\n          position: 'relative'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TertiaryButton, {\n          variant: \"contained\",\n          color: \"secondary\",\n          onClick: handleDelete,\n          pending: fetching,\n          children: t('home.rows.details.tertiary')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onClose,\n          children: t('home.rows.details.secondary')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LoadingButton, {\n          pending: false,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: formik.handleSubmit,\n          children: t('home.rows.details.primary')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n\n_s(WeightDetailsDialog, \"u0Va8hFCkeBtNOZmt9RDdel/p/k=\", false, function () {\n  return [useTranslation, useDispatch, useMediaQuery, useWeightById, useFetchType];\n});\n\n_c8 = WeightDetailsDialog;\nWeightDetailsDialog.propTypes = {\n  id: PropTypes.number,\n  open: PropTypes.bool,\n  onClose: PropTypes.func\n};\nWeightDetailsDialog.defaultProps = {\n  id: undefined,\n  open: undefined,\n  onClose: undefined\n};\nexport default WeightDetailsDialog;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"StyledContent\");\n$RefreshReg$(_c2, \"StyledDialog\");\n$RefreshReg$(_c3, \"Row\");\n$RefreshReg$(_c4, \"Name\");\n$RefreshReg$(_c5, \"StyledIconButton\");\n$RefreshReg$(_c6, \"ContainerInput\");\n$RefreshReg$(_c7, \"TertiaryButton\");\n$RefreshReg$(_c8, \"WeightDetailsDialog\");","map":{"version":3,"sources":["C:/Progetti/weight-control/app/src/pages/home/fragments/WeightDetailsDialog.js"],"names":["React","useMemo","PropTypes","styled","Button","Dialog","DialogActions","DialogContent","DialogTitle","IconButton","TextField","useMediaQuery","LoadingButton","useTranslation","CloseIcon","Formik","Yup","moment","useDispatch","Color","useWeightById","deleteWeightActionCreator","DELETE_WEIGHT","useFetchType","MediaQuerySelector","StyledContent","StyledDialog","SMALL","Row","div","Name","p","theme","TEXT_DARK","StyledIconButton","ContainerInput","TertiaryButton","initialValues","note","weight","validationSchema","t","object","number","required","WeightDetailsDialog","props","id","onClose","open","dispatch","fullScreen","weights","currentWeight","fetching","date","JSON","stringify","validationSchemaFormik","initialValuesFormik","handleEdit","handleDelete","formik","format","values","handleChange","setFieldTouched","height","touched","Boolean","errors","position","handleSubmit","propTypes","bool","func","defaultProps","undefined"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,OAAhB,QAA+B,OAA/B;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SACEC,MADF,EAEEC,MAFF,EAGEC,aAHF,EAIEC,aAJF,EAKEC,WALF,EAMEC,UANF,EAOEC,SAPF,EAQEC,aARF,QASO,mBATP;AAUA,OAAOC,aAAP,MAA0B,gCAA1B;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,SAASC,MAAT,QAAuB,QAAvB;AACA,OAAO,KAAKC,GAAZ,MAAqB,KAArB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,KAAT,QAAsB,4BAAtB;AACA,SAASC,aAAT,QAA8B,wDAA9B;AACA,OAAOC,yBAAP,IAAoCC,aAApC,QAAyD,mEAAzD;AACA,SAASC,YAAT,QAA6B,qDAA7B;AACA,OAAOC,kBAAP,MAA+B,kDAA/B;;AAEA,MAAMC,aAAa,GAAGtB,MAAM,CAACI,aAAD,CAAgB;AAC5C;AACA,CAFA;KAAMkB,a;AAIN,MAAMC,YAAY,GAAGvB,MAAM,CAACE,MAAD,CAAS;AACpC;AACA;AACA;AACA;AACA,MAAMmB,kBAAkB,CAACG,KAAM;AAC/B;AACA;AACA;AACA;AACA,CAVA;MAAMD,Y;AAYN,MAAME,GAAG,GAAGzB,MAAM,CAAC0B,GAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CARA;MAAMD,G;AAUN,MAAME,IAAI,GAAG3B,MAAM,CAAC0B,GAAI;AACxB;AACA;AACA;AACA,WAAYE,CAAD,IAAOA,CAAC,CAACC,KAAF,CAAQb,KAAK,CAACc,SAAd,CAAyB;AAC3C,CALA;MAAMH,I;AAON,MAAMI,gBAAgB,GAAG/B,MAAM,CAACM,UAAD,CAAa;AAC5C;AACA;AACA;AACA,CAJA;MAAMyB,gB;AAMN,MAAMC,cAAc,GAAGhC,MAAM,CAAC0B,GAAI;AAClC;AACA,CAFA;MAAMM,c;AAIN,MAAMC,cAAc,GAAGjC,MAAM,CAACS,aAAD,CAAgB;AAC7C;AACA;AACA;AACA;AACA,CALA;MAAMwB,c;;AAON,MAAMC,aAAa,GAAG,CAACC,IAAD,EAAOC,MAAP,MAAmB;AACvCD,EAAAA,IADuC;AAEvCC,EAAAA;AAFuC,CAAnB,CAAtB;;AAKA,MAAMC,gBAAgB,GAAIC,CAAD,IAAOzB,GAAG,CAAC0B,MAAJ,CAAW;AACzCH,EAAAA,MAAM,EAAEvB,GAAG,CAAC2B,MAAJ,CAAWF,CAAC,CAAC,yCAAD,CAAZ,EACLG,QADK,CACIH,CAAC,CAAC,0CAAD,CADL;AADiC,CAAX,CAAhC;;AAKA,MAAMI,mBAAmB,GAAIC,KAAD,IAAW;AAAA;;AACrC,QAAM;AACJC,IAAAA,EADI;AAEJC,IAAAA,OAFI;AAGJC,IAAAA;AAHI,MAIFH,KAJJ;AAKA,QAAM;AAAEL,IAAAA;AAAF,MAAQ5B,cAAc,EAA5B;AACA,QAAMqC,QAAQ,GAAGhC,WAAW,EAA5B;AACA,QAAMiC,UAAU,GAAGxC,aAAa,CAACa,kBAAkB,CAACG,KAApB,CAAhC;AAEA,QAAMyB,OAAO,GAAGhC,aAAa,EAA7B;AACA,QAAMiC,aAAa,GAAGD,OAAH,aAAGA,OAAH,uBAAGA,OAAO,CAAGL,EAAH,CAA7B;AAEA,QAAMO,QAAQ,GAAG/B,YAAY,CAACD,aAAD,CAA7B;AAEA,QAAMiC,IAAI,GAAGtD,OAAO,CAAC,MAAMoD,aAAN,aAAMA,aAAN,uBAAMA,aAAa,CAAEE,IAAtB,EAA4B,CAACC,IAAI,CAACC,SAAL,CAAeJ,aAAf,CAAD,CAA5B,CAApB;AACA,QAAMf,IAAI,GAAGrC,OAAO,CAAC,MAAMoD,aAAN,aAAMA,aAAN,uBAAMA,aAAa,CAAEf,IAAtB,EAA4B,CAACkB,IAAI,CAACC,SAAL,CAAeJ,aAAf,CAAD,CAA5B,CAApB;AACA,QAAMd,MAAM,GAAGtC,OAAO,CAAC,MAAMoD,aAAN,aAAMA,aAAN,uBAAMA,aAAa,CAAEd,MAAtB,EAA8B,CAACiB,IAAI,CAACC,SAAL,CAAeJ,aAAf,CAAD,CAA9B,CAAtB;AAEA,QAAMK,sBAAsB,GAAGzD,OAAO,CAAC,MAAMuC,gBAAgB,CAACC,CAAD,CAAvB,EAA4B,CAACF,MAAD,EAASD,IAAT,CAA5B,CAAtC;AACA,QAAMqB,mBAAmB,GAAG1D,OAAO,CAAC,MAAMoC,aAAa,CAACC,IAAD,EAAOC,MAAP,CAApB,EAAoC,CAACA,MAAD,EAASD,IAAT,CAApC,CAAnC;;AAEA,QAAMsB,UAAU,GAAG,MAAM,CACvB;AACD,GAFD;;AAIA,QAAMC,YAAY,GAAG,MAAM;AACzBX,IAAAA,QAAQ,CAAC7B,yBAAyB,CAAC0B,EAAD,CAA1B,CAAR;AACD,GAFD;;AAIA,MAAI,CAACE,IAAL,EAAW,OAAO,IAAP;AAEX,sBACE,QAAC,MAAD;AACE,IAAA,aAAa,EAAEU,mBADjB;AAEE,IAAA,gBAAgB,EAAED,sBAFpB;AAGE,IAAA,QAAQ,EAAEE,UAHZ;AAAA,cAKIE,MAAD,iBACC,QAAC,YAAD;AAAc,MAAA,OAAO,EAAEd,OAAvB;AAAgC,MAAA,IAAI,EAAEC,IAAtC;AAA4C,MAAA,UAAU,EAAEE,UAAxD;AAAA,8BACE,QAAC,WAAD;AAAa,QAAA,OAAO,EAAEH,OAAtB;AAAA,mBACGP,CAAC,CAAC,yBAAD,CADJ,EAEGO,OAAO,gBACN,QAAC,gBAAD;AAAkB,wBAAW,OAA7B;AAAqC,UAAA,OAAO,EAAEA,OAA9C;AAAA,iCACE,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADM,GAIJ,IANN;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,eASE,QAAC,aAAD;AAAe,QAAA,QAAQ,MAAvB;AAAA,gCACE,QAAC,GAAD;AAAA,kCACE,QAAC,IAAD;AAAA,sBAAOP,CAAC,CAAC,wBAAD;AAAR;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AAAA,sBACGxB,MAAM,CAACsC,IAAD,CAAN,CACEQ,MADF,CACS,YADT;AADH;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAQE,QAAC,GAAD;AAAA,kCACE,QAAC,IAAD;AAAA,sBAAOtB,CAAC,CAAC,wBAAD;AAAR;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,cAAD;AAAA,mCACE,QAAC,SAAD;AACE,cAAA,SAAS,MADX;AAEE,cAAA,SAAS,MAFX;AAGE,cAAA,IAAI,EAAE,CAHR;AAIE,cAAA,IAAI,EAAC,MAJP;AAKE,cAAA,OAAO,EAAC,UALV;AAME,cAAA,KAAK,EAAEqB,MAAM,CAACE,MAAP,CAAc1B,IANvB;AAOE,cAAA,QAAQ,EAAEwB,MAAM,CAACG,YAPnB;AAQE,cAAA,MAAM,EAAE,MAAMH,MAAM,CAACI,eAAP,CAAuB,MAAvB;AARhB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,eAuBE,QAAC,GAAD;AAAA,kCACE,QAAC,IAAD;AAAA,sBAAOzB,CAAC,CAAC,0BAAD;AAAR;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,cAAD;AAAgB,YAAA,KAAK,EAAE;AAAE0B,cAAAA,MAAM,EAAE;AAAV,aAAvB;AAAA,mCACE,QAAC,SAAD;AACE,cAAA,IAAI,EAAC,QADP;AAEE,cAAA,SAAS,MAFX;AAGE,cAAA,IAAI,EAAC,QAHP;AAIE,cAAA,OAAO,EAAC,UAJV;AAKE,cAAA,KAAK,EAAEL,MAAM,CAACE,MAAP,CAAczB,MALvB;AAME,cAAA,QAAQ,EAAEuB,MAAM,CAACG,YANnB;AAOE,cAAA,MAAM,EAAE,MAAMH,MAAM,CAACI,eAAP,CAAuB,QAAvB,CAPhB;AAQE,cAAA,KAAK,EAAEJ,MAAM,CAACM,OAAP,CAAe7B,MAAf,IAAyB8B,OAAO,CAACP,MAAM,CAACQ,MAAP,CAAc/B,MAAf,CARzC;AASE,cAAA,UAAU,EAAEuB,MAAM,CAACM,OAAP,CAAe7B,MAAf,IAAyBuB,MAAM,CAACQ,MAAP,CAAc/B;AATrD;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvBF;AAAA;AAAA;AAAA;AAAA;AAAA,cATF,eAiDE,QAAC,aAAD;AAAe,QAAA,KAAK,EAAE;AACpB4B,UAAAA,MAAM,EAAE,EADY;AAEpBI,UAAAA,QAAQ,EAAE;AAFU,SAAtB;AAAA,gCAKE,QAAC,cAAD;AACE,UAAA,OAAO,EAAC,WADV;AAEE,UAAA,KAAK,EAAC,WAFR;AAGE,UAAA,OAAO,EAAEV,YAHX;AAIE,UAAA,OAAO,EAAEP,QAJX;AAAA,oBAMGb,CAAC,CAAC,4BAAD;AANJ;AAAA;AAAA;AAAA;AAAA,gBALF,eAaE,QAAC,MAAD;AACE,UAAA,OAAO,EAAEO,OADX;AAAA,oBAGGP,CAAC,CAAC,6BAAD;AAHJ;AAAA;AAAA;AAAA;AAAA,gBAbF,eAkBE,QAAC,aAAD;AACE,UAAA,OAAO,EAAE,KADX;AAEE,UAAA,OAAO,EAAC,WAFV;AAGE,UAAA,KAAK,EAAC,SAHR;AAIE,UAAA,OAAO,EAAEqB,MAAM,CAACU,YAJlB;AAAA,oBAMG/B,CAAC,CAAC,2BAAD;AANJ;AAAA;AAAA;AAAA;AAAA,gBAlBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAjDF;AAAA;AAAA;AAAA;AAAA;AAAA;AANJ;AAAA;AAAA;AAAA;AAAA,UADF;AAuFD,CAvHD;;GAAMI,mB;UAMUhC,c,EACGK,W,EACEP,a,EAEHS,a,EAGCG,Y;;;MAbbsB,mB;AAyHNA,mBAAmB,CAAC4B,SAApB,GAAgC;AAC9B1B,EAAAA,EAAE,EAAE7C,SAAS,CAACyC,MADgB;AAE9BM,EAAAA,IAAI,EAAE/C,SAAS,CAACwE,IAFc;AAG9B1B,EAAAA,OAAO,EAAE9C,SAAS,CAACyE;AAHW,CAAhC;AAMA9B,mBAAmB,CAAC+B,YAApB,GAAmC;AACjC7B,EAAAA,EAAE,EAAE8B,SAD6B;AAEjC5B,EAAAA,IAAI,EAAE4B,SAF2B;AAGjC7B,EAAAA,OAAO,EAAE6B;AAHwB,CAAnC;AAMA,eAAehC,mBAAf","sourcesContent":["import React, { useMemo } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport styled from 'styled-components';\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  IconButton,\r\n  TextField,\r\n  useMediaQuery,\r\n} from '@material-ui/core';\r\nimport LoadingButton from '@material-ui/lab/LoadingButton';\r\nimport { useTranslation } from 'react-i18next';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\nimport { Formik } from 'formik';\r\nimport * as Yup from 'yup';\r\nimport moment from 'moment';\r\nimport { useDispatch } from 'react-redux';\r\nimport { Color } from '../../../theme/ColorSchema';\r\nimport { useWeightById } from '../../../store/state/home/selectors/weightByIdSelector';\r\nimport deleteWeightActionCreator, { DELETE_WEIGHT } from '../../../store/state/home/actionCreator/deleteWeightActionCreator';\r\nimport { useFetchType } from '../../../store/state/common/selectors/fetchSelector';\r\nimport MediaQuerySelector from '../../../constants/responsive/MediaQuerySelector';\r\n\r\nconst StyledContent = styled(DialogContent)`\r\n  padding: 16px 24px 0 !important;\r\n`;\r\n\r\nconst StyledDialog = styled(Dialog)`\r\n  .MuiDialog-paper {\r\n    width: 450px;\r\n    max-width: 100%;\r\n\r\n    ${MediaQuerySelector.SMALL} {\r\n      width: 100%;\r\n      max-width: 100%;\r\n    }\r\n  }\r\n`;\r\n\r\nconst Row = styled.div`\r\n  display: flex;\r\n  padding-bottom: 16px;\r\n  align-items: baseline;\r\n\r\n  :last-child {\r\n    padding-bottom: 0;\r\n  }\r\n`;\r\n\r\nconst Name = styled.div`\r\n  font-weight: 550;\r\n  font-size: 18px;\r\n  min-width: 126px;\r\n  color: ${(p) => p.theme[Color.TEXT_DARK]};\r\n`;\r\n\r\nconst StyledIconButton = styled(IconButton)`\r\n  position: absolute !important;\r\n  top: 8px;\r\n  right: 8px;\r\n`;\r\n\r\nconst ContainerInput = styled.div`\r\n  width: 100%;\r\n`;\r\n\r\nconst TertiaryButton = styled(LoadingButton)`\r\n  position: absolute !important;\r\n  top: 50%;\r\n  transform: translate(0, -50%);\r\n  left: 8px;\r\n`;\r\n\r\nconst initialValues = (note, weight) => ({\r\n  note,\r\n  weight,\r\n});\r\n\r\nconst validationSchema = (t) => Yup.object({\r\n  weight: Yup.number(t('home.rows.details.errors.weight.default'))\r\n    .required(t('home.rows.details.errors.weight.required')),\r\n});\r\n\r\nconst WeightDetailsDialog = (props) => {\r\n  const {\r\n    id,\r\n    onClose,\r\n    open,\r\n  } = props;\r\n  const { t } = useTranslation();\r\n  const dispatch = useDispatch();\r\n  const fullScreen = useMediaQuery(MediaQuerySelector.SMALL);\r\n\r\n  const weights = useWeightById();\r\n  const currentWeight = weights?.[id];\r\n\r\n  const fetching = useFetchType(DELETE_WEIGHT);\r\n\r\n  const date = useMemo(() => currentWeight?.date, [JSON.stringify(currentWeight)]);\r\n  const note = useMemo(() => currentWeight?.note, [JSON.stringify(currentWeight)]);\r\n  const weight = useMemo(() => currentWeight?.weight, [JSON.stringify(currentWeight)]);\r\n\r\n  const validationSchemaFormik = useMemo(() => validationSchema(t), [weight, note]);\r\n  const initialValuesFormik = useMemo(() => initialValues(note, weight), [weight, note]);\r\n\r\n  const handleEdit = () => {\r\n    // console.log('submit');\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    dispatch(deleteWeightActionCreator(id));\r\n  };\r\n\r\n  if (!open) return null;\r\n\r\n  return (\r\n    <Formik\r\n      initialValues={initialValuesFormik}\r\n      validationSchema={validationSchemaFormik}\r\n      onSubmit={handleEdit}\r\n    >\r\n      {(formik) => (\r\n        <StyledDialog onClose={onClose} open={open} fullScreen={fullScreen}>\r\n          <DialogTitle onClose={onClose}>\r\n            {t('home.rows.details.title')}\r\n            {onClose ? (\r\n              <StyledIconButton aria-label=\"close\" onClick={onClose}>\r\n                <CloseIcon />\r\n              </StyledIconButton>\r\n            ) : null}\r\n          </DialogTitle>\r\n          <StyledContent dividers>\r\n            <Row>\r\n              <Name>{t('home.rows.details.date')}</Name>\r\n              <div>\r\n                {moment(date)\r\n                  .format('DD/MM/YYYY')}\r\n              </div>\r\n            </Row>\r\n            <Row>\r\n              <Name>{t('home.rows.details.note')}</Name>\r\n              <ContainerInput>\r\n                <TextField\r\n                  fullWidth\r\n                  multiline\r\n                  rows={3}\r\n                  name=\"note\"\r\n                  variant=\"outlined\"\r\n                  value={formik.values.note}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={() => formik.setFieldTouched('note')}\r\n                />\r\n              </ContainerInput>\r\n            </Row>\r\n            <Row>\r\n              <Name>{t('home.rows.details.weight')}</Name>\r\n              <ContainerInput style={{ height: 92 }}>\r\n                <TextField\r\n                  type=\"number\"\r\n                  fullWidth\r\n                  name=\"weight\"\r\n                  variant=\"outlined\"\r\n                  value={formik.values.weight}\r\n                  onChange={formik.handleChange}\r\n                  onBlur={() => formik.setFieldTouched('weight')}\r\n                  error={formik.touched.weight && Boolean(formik.errors.weight)}\r\n                  helperText={formik.touched.weight && formik.errors.weight}\r\n                />\r\n              </ContainerInput>\r\n            </Row>\r\n          </StyledContent>\r\n          <DialogActions style={{\r\n            height: 64,\r\n            position: 'relative',\r\n          }}\r\n          >\r\n            <TertiaryButton\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              onClick={handleDelete}\r\n              pending={fetching}\r\n            >\r\n              {t('home.rows.details.tertiary')}\r\n            </TertiaryButton>\r\n            <Button\r\n              onClick={onClose}\r\n            >\r\n              {t('home.rows.details.secondary')}\r\n            </Button>\r\n            <LoadingButton\r\n              pending={false}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={formik.handleSubmit}\r\n            >\r\n              {t('home.rows.details.primary')}\r\n            </LoadingButton>\r\n          </DialogActions>\r\n        </StyledDialog>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nWeightDetailsDialog.propTypes = {\r\n  id: PropTypes.number,\r\n  open: PropTypes.bool,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nWeightDetailsDialog.defaultProps = {\r\n  id: undefined,\r\n  open: undefined,\r\n  onClose: undefined,\r\n};\r\n\r\nexport default WeightDetailsDialog;\r\n"]},"metadata":{},"sourceType":"module"}