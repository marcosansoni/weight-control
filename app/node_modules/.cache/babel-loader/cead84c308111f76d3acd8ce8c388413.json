{"ast":null,"code":"var _jsxFileName = \"C:\\\\Progetti\\\\weight-control\\\\app\\\\src\\\\pages\\\\home\\\\fragments\\\\Chart.js\",\n    _s = $RefreshSig$();\n\nimport { CartesianGrid, Line, LineChart, ResponsiveContainer, Tooltip, XAxis, YAxis } from 'recharts';\nimport React from 'react';\nimport styled, { useTheme } from 'styled-components';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Color } from '../../../theme/ColorSchema';\nimport rangeWeightSelector from '../../../store/state/home/selectors/rangeWeightSelector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TooltipContainer = styled.div`\n  border-radius: 4px;\n  padding: 16px;\n  box-shadow: 0 0.25em 0.625em rgba(0, 0, 0, .15);\n  background-color: ${p => p.theme[Color.BACKGROUND]};\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n`;\n_c = TooltipContainer;\nconst Title = styled.div`\n  font-size: 14px;\n  color: ${p => p.theme[Color.TEXT_DARK]};\n  padding-right: 16px;\n`;\n_c2 = Title;\nconst Weight = styled.div`\n  font-size: 20px;\n  font-weight: 700;\n  color: ${p => p.theme[Color.TEXT_DARK]};\n`;\n_c3 = Weight;\nconst Container = styled.div`\n  height: 100%;\n`;\n_c4 = Container;\nconst Label = styled.div`\n  display: flex;\n  font-weight: 600;\n  height: 100%;\n  width: 100%;\n`;\n_c5 = Label;\n\nconst Chart = props => {\n  _s();\n\n  const {\n    startDate,\n    endDate,\n    showLabel\n  } = props;\n  const theme = useTheme();\n  const {\n    t\n  } = useTranslation();\n  const filteredWeights = useSelector(rangeWeightSelector(startDate, endDate));\n  const chartData = filteredWeights.reverse().map(w => ({\n    name: moment(w.date).format('DD/MM/YYYY'),\n    weight: Number(w.weight)\n  }));\n\n  const customLabel = ({\n    // eslint-disable-next-line react/prop-types\n    x,\n    y,\n    value,\n    index\n  }) => /*#__PURE__*/_jsxDEV(\"g\", {\n    children: /*#__PURE__*/_jsxDEV(\"foreignObject\", {\n      x: index === chartData.length - 1 ? x - 42 : x + 8,\n      y: y,\n      width: 48,\n      height: 32,\n      children: /*#__PURE__*/_jsxDEV(Label, {\n        children: Number(value).toFixed(1)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n      children: /*#__PURE__*/_jsxDEV(LineChart, {\n        data: chartData,\n        margin: {\n          top: 20,\n          right: 30,\n          left: 0,\n          bottom: 0\n        },\n        children: [/*#__PURE__*/_jsxDEV(XAxis, {\n          dataKey: \"name\",\n          tickMargin: 10,\n          color: \"red\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(YAxis, {\n          domain: [dataMin => Math.floor(Number(dataMin) - 2), dataMax => Math.floor(Number(dataMax) + 2)],\n          interval: 0,\n          tickMargin: 10,\n          label: {\n            value: t('home.weights'),\n            angle: -90,\n            position: 'insideLeft'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(CartesianGrid, {\n          strokeDasharray: \"3 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n          content: tooltip => {\n            var _tooltip$payload, _tooltip$payload$;\n\n            return /*#__PURE__*/_jsxDEV(TooltipContainer, {\n              children: [/*#__PURE__*/_jsxDEV(Title, {\n                children: tooltip.label\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Weight, {\n                children: `${tooltip === null || tooltip === void 0 ? void 0 : (_tooltip$payload = tooltip.payload) === null || _tooltip$payload === void 0 ? void 0 : (_tooltip$payload$ = _tooltip$payload[0]) === null || _tooltip$payload$ === void 0 ? void 0 : _tooltip$payload$.value} kg`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 15\n            }, this);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          label: showLabel && customLabel,\n          type: \"monotone\",\n          dataKey: \"weight\",\n          stroke: theme[Color.PRIMARY],\n          strokeWidth: 3,\n          dot: {\n            stroke: theme[Color.PRIMARY_DARK],\n            strokeWidth: 2,\n            r: 4\n          },\n          activeDot: {\n            stroke: theme[Color.PRIMARY_DARK],\n            strokeWidth: 3,\n            r: 5\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Chart, \"2/a1UIiBvrfzVlFluHmCcdfEnS8=\", false, function () {\n  return [useTheme, useTranslation, useSelector];\n});\n\n_c6 = Chart;\nChart.propTypes = {\n  startDate: PropTypes.instanceOf(moment),\n  endDate: PropTypes.instanceOf(moment),\n  showLabel: PropTypes.bool\n};\nChart.defaultProps = {\n  startDate: undefined,\n  endDate: undefined,\n  showLabel: false\n};\nexport default Chart;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"TooltipContainer\");\n$RefreshReg$(_c2, \"Title\");\n$RefreshReg$(_c3, \"Weight\");\n$RefreshReg$(_c4, \"Container\");\n$RefreshReg$(_c5, \"Label\");\n$RefreshReg$(_c6, \"Chart\");","map":{"version":3,"sources":["C:/Progetti/weight-control/app/src/pages/home/fragments/Chart.js"],"names":["CartesianGrid","Line","LineChart","ResponsiveContainer","Tooltip","XAxis","YAxis","React","styled","useTheme","moment","PropTypes","useSelector","useTranslation","Color","rangeWeightSelector","TooltipContainer","div","p","theme","BACKGROUND","Title","TEXT_DARK","Weight","Container","Label","Chart","props","startDate","endDate","showLabel","t","filteredWeights","chartData","reverse","map","w","name","date","format","weight","Number","customLabel","x","y","value","index","length","toFixed","top","right","left","bottom","dataMin","Math","floor","dataMax","angle","position","tooltip","label","payload","PRIMARY","stroke","PRIMARY_DARK","strokeWidth","r","propTypes","instanceOf","bool","defaultProps","undefined"],"mappings":"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","sourcesContent":["import {\n  CartesianGrid,\n  Line,\n  LineChart,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from 'recharts';\nimport React from 'react';\nimport styled, { useTheme } from 'styled-components';\nimport moment from 'moment';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport { Color } from '../../../theme/ColorSchema';\nimport rangeWeightSelector from '../../../store/state/home/selectors/rangeWeightSelector';\n\nconst TooltipContainer = styled.div`\n  border-radius: 4px;\n  padding: 16px;\n  box-shadow: 0 0.25em 0.625em rgba(0, 0, 0, .15);\n  background-color: ${(p) => p.theme[Color.BACKGROUND]};\n  display: flex;\n  align-items: baseline;\n  justify-content: space-between;\n`;\n\nconst Title = styled.div`\n  font-size: 14px;\n  color: ${(p) => p.theme[Color.TEXT_DARK]};\n  padding-right: 16px;\n`;\n\nconst Weight = styled.div`\n  font-size: 20px;\n  font-weight: 700;\n  color: ${(p) => p.theme[Color.TEXT_DARK]};\n`;\n\nconst Container = styled.div`\n  height: 100%;\n`;\n\nconst Label = styled.div`\n  display: flex;\n  font-weight: 600;\n  height: 100%;\n  width: 100%;\n`;\n\nconst Chart = (props) => {\n  const {\n    startDate,\n    endDate,\n    showLabel,\n  } = props;\n  const theme = useTheme();\n  const { t } = useTranslation();\n  const filteredWeights = useSelector(rangeWeightSelector(startDate, endDate));\n\n  const chartData = filteredWeights.reverse()\n    .map((w) => (\n      {\n        name: moment(w.date)\n          .format('DD/MM/YYYY'),\n        weight: Number(w.weight),\n      }\n    ));\n\n  const customLabel = ({\n    // eslint-disable-next-line react/prop-types\n    x,\n    y,\n    value,\n    index,\n  }) => (\n    <g>\n      <foreignObject\n        x={index === chartData.length - 1 ? x - 42 : x + 8}\n        y={y}\n        width={48}\n        height={32}\n      >\n        <Label>\n          {Number(value)\n            .toFixed(1)}\n        </Label>\n      </foreignObject>\n    </g>\n  );\n\n  return (\n    <Container>\n      <ResponsiveContainer>\n        <LineChart\n          data={chartData}\n          margin={{\n            top: 20,\n            right: 30,\n            left: 0,\n            bottom: 0,\n          }}\n        >\n          <XAxis dataKey=\"name\" tickMargin={10} color=\"red\" />\n          <YAxis\n            domain={[\n              (dataMin) => Math.floor(Number(dataMin) - 2),\n              (dataMax) => Math.floor(Number(dataMax) + 2),\n            ]}\n            interval={0}\n            tickMargin={10}\n            label={{\n              value: t('home.weights'),\n              angle: -90,\n              position: 'insideLeft',\n            }}\n          />\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <Tooltip\n            content={(tooltip) => (\n              <TooltipContainer>\n                <Title>{tooltip.label}</Title>\n                <Weight>{`${tooltip?.payload?.[0]?.value} kg`}</Weight>\n              </TooltipContainer>\n            )}\n          />\n          <Line\n            label={showLabel && customLabel}\n            type=\"monotone\"\n            dataKey=\"weight\"\n            stroke={theme[Color.PRIMARY]}\n            strokeWidth={3}\n            dot={{\n              stroke: theme[Color.PRIMARY_DARK],\n              strokeWidth: 2,\n              r: 4,\n            }}\n            activeDot={{\n              stroke: theme[Color.PRIMARY_DARK],\n              strokeWidth: 3,\n              r: 5,\n            }}\n          />\n        </LineChart>\n      </ResponsiveContainer>\n    </Container>\n  );\n};\n\nChart.propTypes = {\n  startDate: PropTypes.instanceOf(moment),\n  endDate: PropTypes.instanceOf(moment),\n  showLabel: PropTypes.bool,\n};\n\nChart.defaultProps = {\n  startDate: undefined,\n  endDate: undefined,\n  showLabel: false,\n};\n\nexport default Chart;\n"]},"metadata":{},"sourceType":"module"}